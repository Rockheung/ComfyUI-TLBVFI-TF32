[pytest]
# Pytest configuration for ComfyUI-TLBVFI-TF32

# Test discovery patterns
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Don't collect __init__.py files as test modules
# The python_files pattern ensures only test_*.py files are collected
# The norecursedirs below prevents pytest from recursing into project directories

# Test directories - only collect from tests directory
testpaths = tests

# Don't set pythonpath here - it's handled by conftest.py
# to avoid pytest treating the project root as a package

# Output options
addopts =
    -v
    --tb=short
    --strict-markers
    -s
    --import-mode=importlib

# Markers for categorizing tests
markers =
    unit: Unit tests for individual components
    integration: Integration tests for node workflows
    slow: Tests that take longer to run (require model loading)
    requires_gpu: Tests that require CUDA GPU
    requires_model: Tests that require downloaded model files

# Ignore directories and patterns
norecursedirs =
    .git
    __pycache__
    .pytest_cache
    TLBVFI
    workflows
    examples
    docs


# Warning filters
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
